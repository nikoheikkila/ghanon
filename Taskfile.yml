# https://taskfile.dev

version: '3'

tasks:

  install:
    desc: Install dependencies
    cmds:
      - uv sync --locked --all-extras --all-packages --dev

  lint:
    desc: Lint the codebase
    cmds:
      - uv run ruff check {{ .CLI_ARGS }}

  format:
    desc: Format the codebase
    cmds:
      - uv run ruff format {{ .CLI_ARGS }}

  test:unit:
    desc: Run tests
    cmds:
      - uv run pytest tests -v

  test:
    desc: Run all tests
    cmds:
      - task: format
      - task: lint
      - task: test:unit

  run:
    desc: Run the application
    cmds:
      - uv run python main.py {{ .CLI_ARGS }}